{
  "name": "grunt-replace",
  "description": "Replace text patterns with applause.",
  "version": "1.0.1",
  "author": {
    "name": "outaTiME",
    "url": "http://outa.im/"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/outaTiME/grunt-replace"
  },
  "license": "MIT",
  "engines": {
    "node": ">=0.10.0"
  },
  "main": "tasks/replace.js",
  "scripts": {
    "release": "scripts/release.sh",
    "test": "grunt test"
  },
  "dependencies": {
    "chalk": "^1.1.0",
    "lodash": "^4.11.0",
    "applause": "1.2.2",
    "file-sync-cmp": "^0.1.0"
  },
  "devDependencies": {
    "grunt": "^1.0.0",
    "grunt-contrib-clean": "^1.0.0",
    "grunt-contrib-jshint": "^1.0.0",
    "grunt-mocha-test": "^0.12.0",
    "mocha": "^2.4.5"
  },
  "keywords": [
    "gruntplugin",
    "replace",
    "replacement",
    "pattern",
    "patterns",
    "match",
    "text",
    "string",
    "regex",
    "regexp",
    "json",
    "yaml",
    "cson",
    "flatten"
  ],
  "files": [
    "tasks"
  ],
  "eslintConfig": {
    "extends": [
      "eslint:recommended"
    ],
    "env": {
      "node": true,
      "mocha": true
    },
    "rules": {
      "quotes": [
        2,
        "single"
      ],
      "indent": [
        2,
        2
      ]
    }
  },
  "readme": "# grunt-replace [![Build Status](https://img.shields.io/travis/outaTiME/grunt-replace.svg)](https://travis-ci.org/outaTiME/grunt-replace) [![NPM Version](https://img.shields.io/npm/v/grunt-replace.svg)](https://npmjs.org/package/grunt-replace)\n\n> Replace text patterns with [applause](https://github.com/outaTiME/applause).\n\n## Install\n\nFrom NPM:\n\n```shell\nnpm install grunt-replace --save-dev\n```\n\n## Replace Task\n\nAssuming installation via NPM, you can use `grunt-replace` in your gruntfile like this:\n\n```javascript\nmodule.exports = function (grunt) {\n  grunt.loadNpmTasks('grunt-replace');\n  grunt.initConfig({\n    replace: {\n      dist: {\n        options: {\n          patterns: [\n            {\n              match: 'foo',\n              replacement: 'bar'\n            }\n          ]\n        },\n        files: [\n          {expand: true, flatten: true, src: ['src/index.html'], dest: 'build/'}\n        ]\n      }\n    }\n  });\n  grunt.registerTask('default', 'replace');\n};\n```\n\n### Options\n\n\n\n#### patterns\nType: `Array`\n\nDefine patterns that will be used to replace the contents of source files.\n\n#### patterns.match\nType: `String|RegExp`\n\nIndicates the matching expression.\n\nIf matching type is `String` we use a simple variable lookup mechanism `@@string` (in any other case we use the default regexp replace logic):\n\n```javascript\n{\n  patterns: [\n    {\n      match: 'foo',\n      replacement: 'bar'  // replaces \"@@foo\" to \"bar\"\n    }\n  ]\n}\n```\n\n#### patterns.replacement or patterns.replace\nType: `String|Function|Object`\n\nIndicates the replacement for match, for more information about replacement check out the [String.replace].\n\nYou can specify a function as replacement. In this case, the function will be invoked after the match has been performed. The function's result (return value) will be used as the replacement string.\n\n```javascript\n{\n  patterns: [\n    {\n      match: /foo/g,\n      replacement: function () {\n        return 'bar'; // replaces \"foo\" to \"bar\"\n      }\n    }\n  ]\n}\n```\n\nAlso supports object as replacement (we create string representation of object using [JSON.stringify]):\n\n```javascript\n{\n  patterns: [\n    {\n      match: /foo/g,\n      replacement: [1, 2, 3] // replaces \"foo\" with string representation of \"array\" object\n    }\n  ]\n}\n```\n\n> The replacement only resolve the [special replacement patterns] when using regexp for matching.\n\n[String.replace]: http://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\n[JSON.stringify]: http://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\n[special replacement patterns]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#Specifying_a_string_as_a_parameter\n\n#### patterns.json\nType: `Object`\n\nIf an attribute `json` is found in pattern definition we flatten the object using `delimiter` concatenation and each keyâ€“value pair will be used for the replacement (simple variable lookup mechanism and no regexp support).\n\n```javascript\n{\n  patterns: [\n    {\n      json: {\n        \"key\": \"value\" // replaces \"@@key\" to \"value\"\n      }\n    }\n  ]\n}\n```\n\nAlso supports nested objects:\n\n```javascript\n{\n  patterns: [\n    {\n      json: {\n        \"key\": \"value\",   // replaces \"@@key\" to \"value\"\n        \"inner\": {        // replaces \"@@inner\" with string representation of \"inner\" object\n          \"key\": \"value\"  // replaces \"@@inner.key\" to \"value\"\n        }\n      }\n    }\n  ]\n}\n```\n\nFor deferred invocations is possible to define functions:\n\n```javascript\n{\n  patterns: [\n    {\n      json: function (done) {\n        done({\n          key: 'value'\n        });\n      }\n    }\n  ]\n}\n```\n\n#### patterns.yaml\nType: `String`\n\nIf an attribute `yaml` found in pattern definition it will be converted and then processed like [json attribute](#patternsjson).\n\n```javascript\n{\n  patterns: [\n    {\n      yaml: 'key: value'  // replaces \"@@key\" to \"value\"\n    }\n  ]\n}\n```\n\nFor deferred invocations is possible to define functions:\n\n```javascript\n{\n  patterns: [\n    {\n      yaml: function (done) {\n        done('key: value');\n      }\n    }\n  ]\n}\n```\n\n#### patterns.cson\nType: `String`\n\nIf an attribute `cson` is found in pattern definition it will be converted and then processed like [json attribute](#patternsjson).\n\n```javascript\n{\n  patterns: [\n    {\n      cson: 'key: \\'value\\''\n    }\n  ]\n}\n```\n\nFor deferred invocations is possible to define functions:\n\n```javascript\n{\n  patterns: [\n    {\n      cson: function (done) {\n        done('key: \\'value\\'');\n      }\n    }\n  ]\n}\n```\n\n#### variables\nType: `Object`\n\nThis is the old way to define patterns using plain object (simple variable lookup mechanism and no regexp support). You can still use this but for more control you should use the new `patterns` way.\n\n```javascript\n{\n  variables: {\n    'key': 'value' // replaces \"@@key\" to \"value\"\n  }\n}\n```\n\n#### prefix\nType: `String`\nDefault: `@@`\n\nThe prefix added for matching (prevent bad replacements / easy way).\n\n> This only applies for simple variable lookup mechanism.\n\n#### usePrefix\nType: `Boolean`\nDefault: `true`\n\nIf set to `false`, we match the pattern without `prefix` concatenation (useful when you want to lookup a simple string).\n\n> This only applies for simple variable lookup mechanism.\n\n#### preservePrefix\nType: `Boolean`\nDefault: `false`\n\nIf set to `true`, we preserve the `prefix` in target.\n\n> This only applies for simple variable lookup mechanism and when `patterns.replacement` is a string.\n\n#### delimiter\nType: `String`\nDefault: `.`\n\nThe delimiter used to flatten when using object as replacement.\n\n#### preserveOrder\nType: `Boolean`\nDefault: `false`\n\nIf set to `true`, we preserve the patterns definition order, otherwise these will be sorted (in ascending order) to prevent replacement issues like `head` / `header` (typo regexps will be resolved at last).\n\n\n#### excludeBuiltins\nType: `Boolean`\nDefault: `false`\n\nIf set to `true`, we exclude built-in matching rules.\n\n#### force\nType: `Boolean`\nDefault: `true`\n\nForce the copy of files even when those files don't have any match found for replacement.\n\n#### noProcess\nType: `String`\n\nThis option is an advanced way to control which file contents are processed.\n\n> `processContentExclude` has been renamed to `noProcess` and the option name will be removed in the future.\n\n#### encoding\nType: `String`\nDefault: `grunt.file.defaultEncoding`\n\nThe file encoding to copy files with.\n\n#### mode\nType: `Boolean` or `Number`\nDefault: `false`\n\nWhether to copy or set the existing file permissions. Set to `true` to copy the existing file permissions. Or set to the mode, i.e.: `0644`, that copied files will be set to.\n\n#### timestamp\nType: `Boolean`\nDefault: `false`\n\nWhether to preserve the timestamp attributes(atime and mtime) when copying files. Set to true to preserve files timestamp. But timestamp will not be preserved when the file contents or name are changed during copying.\n\n#### silent\nType: `Boolean`\nDefault: `false`\n\nIf set to `true`, removes the output from stdout.\n\n#### pedantic\nType: `Boolean`\nDefault: `false`\n\nIf set to `true`, the task will fail with a `grunt.fail.warn` when no matches are present.\n\n### Built-in Replacements\n\nFew matching rules are provided by default and can be used anytime (these will be affected by the `options` given):\n\n *  `__SOURCE_FILE__`:\n\n    Replace match with the source file.\n\n *  `__SOURCE_PATH__`:\n\n    Replace match with the path of source file.\n\n *  `__SOURCE_FILENAME__`:\n\n    Replace match with the filename of source file.\n\n *  `__TARGET_FILE__`:\n\n    Replace match with the target file.\n\n *  `__TARGET_PATH__`:\n\n    Replace match with the path of target file.\n\n *  `__TARGET_FILENAME__`:\n\n    Replace match with the filename of target file.\n\n> If you are looking how to use an `built-in` replacements, check out the [How to insert filename in target](#how-to-insert-filename-in-target) usage.\n\n### Usage Examples\n\n#### Basic\n\nFile `src/manifest.appcache`:\n\n```\nCACHE MANIFEST\n# @@timestamp\n\nCACHE:\n\nfavicon.ico\nindex.html\n\nNETWORK:\n*\n```\n\nGruntfile, define pattern (for timestamp) and the source files for lookup:\n\n```js\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: 'timestamp',\n          replacement: '<%= grunt.template.today() %>'\n        }\n      ]\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/manifest.appcache'], dest: 'build/'}\n    ]\n  }\n}\n```\n\n#### Multiple matching\n\nFile `src/manifest.appcache`:\n\n```\nCACHE MANIFEST\n# @@timestamp\n\nCACHE:\n\nfavicon.ico\nindex.html\n\nNETWORK:\n*\n```\n\nFile `src/humans.txt`:\n\n```\n              __     _\n   _    _/__  /./|,//_`\n  /_//_// /_|///  //_, outaTiME v.@@version\n\n/* TEAM */\n  Web Developer / Graphic Designer: Ariel Oscar Falduto\n  Site: http://www.outa.im\n  Twitter: @outa7iME\n  Contact: afalduto at gmail dot com\n  From: Buenos Aires, Argentina\n\n/* SITE */\n  Last update: @@timestamp\n  Standards: HTML5, CSS3, robotstxt.org, humanstxt.org\n  Components: H5BP, Modernizr, jQuery, Twitter Bootstrap, LESS, Jade, Grunt\n  Software: Sublime Text 2, Photoshop, LiveReload\n\n```\n\nGruntfile:\n\n```js\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: 'version',\n          replacement: '<%= pkg.version %>'\n        },\n        {\n          match: 'timestamp',\n          replacement: '<%= grunt.template.today() %>'\n        }\n      ]\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/manifest.appcache', 'src/humans.txt'], dest: 'build/'}\n    ]\n  }\n}\n```\n\n#### Cache busting\n\nFile `src/assets/index.html`:\n\n```html\n<head>\n  <link rel=\"stylesheet\" href=\"/css/style.css?rel=@@timestamp\">\n  <script src=\"/js/app.js?rel=@@timestamp\"></script>\n</head>\n```\n\nGruntfile:\n\n```js\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: 'timestamp',\n          replacement: '<%= new Date().getTime() %>'\n        }\n      ]\n    },\n    files: [\n      {src: ['src/assets/index.html'], dest: 'build/index.html'}\n    ]\n  }\n}\n```\n\n#### Include file\n\nFile `src/index.html`:\n\n```html\n<body>\n  @@include\n</body>\n```\n\nGruntfile:\n\n```js\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: 'include',\n          replacement: '<%= grunt.file.read(\"includes/content.html\") %>'\n        }\n      ]\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/index.html'], dest: 'build/'}\n    ]\n  }\n}\n```\n\n#### Regular expression\n\nFile `src/username.txt`:\n\n```\nJohn Smith\n```\n\nGruntfile:\n\n```js\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: /(\\w+)\\s(\\w+)/,\n          replacement: '$2, $1' // replaces \"John Smith\" to \"Smith, John\"\n        }\n      ]\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/username.txt'], dest: 'build/'}\n    ]\n  }\n}\n```\n\n#### Lookup for `foo` instead of `@@foo`\n\nGruntfile:\n\n```js\n// option 1 (explicitly using an regexp)\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: /foo/g,\n          replacement: 'bar'\n        }\n      ]\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/foo.txt'], dest: 'build/'}\n    ]\n  }\n}\n\n// option 2 (easy way)\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: 'foo',\n          replacement: 'bar'\n        }\n      ],\n      usePrefix: false\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/foo.txt'], dest: 'build/'}\n    ]\n  }\n}\n\n// option 3 (old way)\nreplace: {\n  dist: {\n    options: {\n      patterns: [\n        {\n          match: 'foo',\n          replacement: 'bar'\n        }\n      ],\n      prefix: '' // remove prefix\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/foo.txt'], dest: 'build/'}\n    ]\n  }\n}\n```\n\n#### How to insert filename in target\n\nFile `src/app.js`:\n\n```js\n// filename: @@__SOURCE_FILENAME__\n\nvar App = App || (function () {\n\n  return {\n\n    // app contents\n\n  };\n\n}());\n\nwindow.App = App;\n```\n\nGruntfile:\n\n```js\nreplace: {\n  dist: {\n    options: {\n      // pass, we use built-in replacements\n    },\n    files: [\n      {expand: true, flatten: true, src: ['src/**/*.js'], dest: 'build/'}\n    ]\n  }\n}\n```\n\n## Release History\n\n * 2016-04-19â€ƒâ€ƒâ€ƒv1.0.1â€ƒâ€ƒâ€ƒFix bad README.md file.\n * 2016-04-19â€ƒâ€ƒâ€ƒv1.0.0â€ƒâ€ƒâ€ƒAdd timestamp option to disable preserving timestamp when copying. Bump devDependencies. Point main to task and remove peerDeps.\n * 2015-09-09â€ƒâ€ƒâ€ƒv0.11.0â€ƒâ€ƒâ€ƒImprovements in handling patterns. Fix plain object representation issue. More test cases.\n * 2015-08-20â€ƒâ€ƒâ€ƒv0.10.2â€ƒâ€ƒâ€ƒRestore verbose after new pedantic option.\n * 2015-08-19â€ƒâ€ƒâ€ƒv0.10.0â€ƒâ€ƒâ€ƒLast [applause](https://github.com/outaTiME/applause) integration and package.json update.\n * 2015-08-06â€ƒâ€ƒâ€ƒv0.9.3â€ƒâ€ƒâ€ƒNew pedantic option (thanks [@donkeybanana](https://github.com/donkeybanana)). Fix issue with special characters attributes ($$, $&, $`, $', $n or $nn) on JSON, YAML and CSON.\n * 2015-05-07â€ƒâ€ƒâ€ƒv0.9.2â€ƒâ€ƒâ€ƒFix regression issue with empty string in replacement.\n * 2015-05-01â€ƒâ€ƒâ€ƒv0.9.1â€ƒâ€ƒâ€ƒBetter output.\n * 2015-05-01â€ƒâ€ƒâ€ƒv0.9.0â€ƒâ€ƒâ€ƒOutput available via --verbose flag. The mode option now also applies to directories. Fix path issue on Windows. Display warning message when no matches and overall of replacements. Update to [applause](https://github.com/outaTiME/applause) v0.4.0.\n * 2014-10-10â€ƒâ€ƒâ€ƒv0.8.0â€ƒâ€ƒâ€ƒEscape regexp when matching type is `String`.\n * 2014-08-26â€ƒâ€ƒâ€ƒv0.7.9â€ƒâ€ƒâ€ƒFixes backwards incompatible changes introduced in NPM.\n * 2014-06-10â€ƒâ€ƒâ€ƒv0.7.8â€ƒâ€ƒâ€ƒRemove node v.8.0 support and third party dependencies updated. Force flag now are true by default.\n * 2014-04-20â€ƒâ€ƒâ€ƒv0.7.7â€ƒâ€ƒâ€ƒJSON / YAML / CSON as function supported. Readme updated (thanks [@milanlandaverde](https://github.com/milanlandaverde)).\n * 2014-03-23â€ƒâ€ƒâ€ƒv0.7.6â€ƒâ€ƒâ€ƒReadme updated.\n * 2014-03-22â€ƒâ€ƒâ€ƒv0.7.5â€ƒâ€ƒâ€ƒModular core renamed to [applause](https://github.com/outaTiME/applause). Performance improvements. Expression flag removed. New pattern matching for CSON object. More test cases, readme updated and code cleanup.\n * 2014-03-21â€ƒâ€ƒâ€ƒv0.7.4â€ƒâ€ƒâ€ƒTest cases in Mocha, readme updated and code cleanup.\n * 2014-03-17â€ƒâ€ƒâ€ƒv0.7.3â€ƒâ€ƒâ€ƒUpdate script files for readme file generation.\n * 2014-03-12â€ƒâ€ƒâ€ƒv0.7.2â€ƒâ€ƒâ€ƒTypo error, replace task name again.\n * 2014-03-11â€ƒâ€ƒâ€ƒv0.7.1â€ƒâ€ƒâ€ƒTask name update.\n * 2014-03-11â€ƒâ€ƒâ€ƒv0.7.0â€ƒâ€ƒâ€ƒNew [pattern-replace](https://github.com/outaTiME/pattern-replace) modular core for replacements.\n * 2014-02-13â€ƒâ€ƒâ€ƒv0.6.2â€ƒâ€ƒâ€ƒAttach process data for function replacements (source / target). Add delimiter option for object as replacement. Dependencies updated.\n * 2014-02-06â€ƒâ€ƒâ€ƒv0.6.1â€ƒâ€ƒâ€ƒRename excludePrefix to preservePrefix (more readable) and adds usePrefix flag. Support the noProcess option like [grunt-contrib-copy](https://github.com/gruntjs/grunt-contrib-copy).\n * 2014-02-05â€ƒâ€ƒâ€ƒv0.6.0â€ƒâ€ƒâ€ƒObject replacement allowed. New excludePrefix flag (thanks [@shinnn](https://github.com/shinnn)). Encoding / Mode options added.\n * 2013-09-18â€ƒâ€ƒâ€ƒv0.5.1â€ƒâ€ƒâ€ƒNew pattern matching for JSON object.\n * 2013-09-17â€ƒâ€ƒâ€ƒv0.5.0â€ƒâ€ƒâ€ƒRegular expression matching now supported and notation has been updated but is backward compatible.\n * 2013-05-03â€ƒâ€ƒâ€ƒv0.4.4â€ƒâ€ƒâ€ƒFix escape $ before performing regexp replace (thanks [@warpech](https://github.com/warpech)).\n * 2013-04-14â€ƒâ€ƒâ€ƒv0.4.3â€ƒâ€ƒâ€ƒDetect path destinations correctly on Windows.\n * 2013-04-02â€ƒâ€ƒâ€ƒv0.4.2â€ƒâ€ƒâ€ƒAdd peerDependencies and update description.\n * 2013-04-02â€ƒâ€ƒâ€ƒv0.4.1â€ƒâ€ƒâ€ƒAdd trace when force flag.\n * 2013-02-28â€ƒâ€ƒâ€ƒv0.4.0â€ƒâ€ƒâ€ƒFirst official release for Grunt 0.4.0.\n * 2012-11-20â€ƒâ€ƒâ€ƒv0.3.2â€ƒâ€ƒâ€ƒNew examples added.\n * 2012-09-25â€ƒâ€ƒâ€ƒv0.3.1â€ƒâ€ƒâ€ƒRename grunt-contrib-lib dep to grunt-lib-contrib, add force flag.\n * 2012-09-25â€ƒâ€ƒâ€ƒv0.3.0â€ƒâ€ƒâ€ƒGeneral cleanup and consolidation. Global options depreciated.\n\n---\n\nTask submitted by [Ariel Falduto](http://outa.im/)\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/outaTiME/grunt-replace/issues"
  },
  "_id": "grunt-replace@1.0.1",
  "dist": {
    "shasum": "1ae6c9e77dd5b87ec5fc068b5806121f800e1d62"
  },
  "_from": "grunt-replace@",
  "_resolved": "https://registry.npmjs.org/grunt-replace/-/grunt-replace-1.0.1.tgz"
}
